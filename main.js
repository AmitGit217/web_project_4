!function(){"use strict";const t={cardsSection:".elements",cardImagePopup:".popup_image",cardsTemplate:"#card-template",cardClass:".card",cardImageClass:".card__image",cardCaptionClass:".card__caption",cardRemoveButton:".card__removeButton",cardLikeButton:".card__like-button",cardLikeButtonActive:"card__like-button_active",cardCounter:".card__like-counter",deletePopup:".popup_confirm"},e=(document.querySelector(".popup__input_addPhoto_caption"),document.querySelector(".popup__input_addPhoto_ImageURL"),document.querySelector("#addImagePopup__form"),document.querySelector("#addImagePopup"),document.querySelector(t.cardsSection)),{cardClass:s,cardImageClass:r,cardCaptionClass:o,cardRemoveButton:n,cardLikeButton:i,cardLikeButtonActive:a,cardCounter:c}=t;class l{constructor(t,e,o,a,l,u){let{handleLike:d}=u;this.data=t,this._handleClick=o,this._text=t.name,this._link=t.link,this._likesData=t.likes,this._template=e,this._card=document.querySelector(this._template).content.querySelector(s).cloneNode(!0),this._likeButton=this._card.querySelector(i),this._removeButton=this._card.querySelector(n),this._image=this._card.querySelector(r),this._cardCounter=this._card.querySelector(c),this._deleteHandler=a,this._cardId=t._id,this._ownerId=t.owner._id,this._userId=l,this._likeAction=d}_removeCard(){this._card.remove()}_setEventListeners(){this._likeButton.addEventListener("click",(t=>{t.stopPropagation(),this._likeAction(this._cardId)})),this._removeButton.addEventListener("click",(t=>{t.stopPropagation(),this._deleteHandler(this._cardId)})),this._card.addEventListener("click",(()=>{this._handleClick()}))}generateCard(){return this._image.src=this._link,this._image.alt=this._text,this._cardCounter.textContent=this._likesData.length,this._card.querySelector(o).textContent=this._text,this._setEventListeners(),this._userId!==this._ownerId&&(this._removeButton.style.display="none"),this._likesData.some((t=>{t._id===this._userId&&this._likeButton.classList.add(a)})),this._card}}class u{constructor(t){var e,s;s=t=>{"Escape"===t.key&&this.close()},(e="_handleEscClose")in this?Object.defineProperty(this,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[e]=s,this._popup=document.querySelector(t),this._closeButton=this._popup.querySelector(".popup__close-button"),this._isOpen="popup_show"}open(){this._popup.classList.add(this._isOpen),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove(this._isOpen),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close())),this._popup.addEventListener("mousedown",(t=>{t.target===t.currentTarget&&this.close()}))}}class d extends u{constructor(t,e){super(t),this._handleSubmit=e,this._inputs=[...this._popup.querySelectorAll(".popup__input")],this._form=this._popup.querySelector(".form"),this._submitButton=this._form.querySelector(".popup__submit-button")}close(){super.close(),this._form.reset()}getInputValues(){const t={};return this._inputs.forEach((e=>{t[e.name]=e.value})),t}setInputValues(t){this._inputs.forEach((e=>{e.value=t[e.name]}))}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(t=>{t.preventDefault(),this._handleSubmit(this.getInputValues())}))}}class h{constructor(t,e){this._settings=t,this._formElement=e,this._submit=this._formElement.querySelector(this._settings.submitButtonSelector),this._inputList=[...this._formElement.querySelectorAll(this._settings.inputSelector)]}_disableButtonState(){this._submit.classList.add(this._settings.inactiveButtonClass),this._submit.setAttribute("disabled",!0)}_enableButtonState(){this._submit.classList.remove(this._settings.inactiveButtonClass),this._submit.removeAttribute("disabled",!0)}_hasInvalidInput(){return this._inputList.some((t=>!t.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this._disableButtonState():this._enableButtonState()}_resetValidation(){this._disableButtonState(),this._inputList.forEach((t=>{this._hideErrorMessage(t)}))}_showErrorMessage(t){const e=t.validationMessage,s=this._formElement.querySelector(".".concat(t.id,"-error"));s.textContent=e,t.classList.add(this._settings.inputErrorClass),s.classList.add(this._settings.errorClass)}_hideErrorMessage(t){const e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._settings.inputErrorClass),e.classList.remove(this._settings.errorClass)}_checkInputValidity(t){t.validity.valid?this._hideErrorMessage(t):this._showErrorMessage(t)}_setEventListeners(){this._inputList.forEach((t=>{t.addEventListener("input",(()=>{this._checkInputValidity(t),this._toggleButtonState()}))}))}enableValidation(){this._toggleButtonState(),this._formElement.addEventListener("submit",(t=>{t.preventDefault(),this._resetValidation()})),this._setEventListeners()}}function _(t,e){e.textContent=t?"Saving...":e.name}const p=new class{constructor(t){let{URL:e,headers:s}=t;this.url=e,this.headers=s}getUserInfo(){return fetch("".concat(this.url,"/users/me"),{headers:this.headers}).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)))}getInitialCards(){return fetch("".concat(this.url,"/cards"),{headers:this.headers}).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)))}addCard(t){let{name:e,link:s}=t;return fetch("".concat(this.url,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify({name:e,link:s})}).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)))}editProfileServer(t){let{name:e,about:s}=t;return fetch("".concat(this.url,"/users/me"),{headers:this.headers,method:"PATCH",body:JSON.stringify({name:e,about:s})}).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)))}deleteCard(t){return fetch("".concat(this.url,"/cards/").concat(t),{headers:this.headers,method:"DELETE"}).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)))}likeCard(t){return fetch("".concat(this.url,"/cards/likes/").concat(t),{headers:this.headers,method:"PUT"}).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)))}dislikeCard(t){return fetch("".concat(this.url,"/cards/likes/").concat(t),{headers:this.headers,method:"DELETE"}).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)))}updateAvatarImage(t){let{avatar:e}=t;return fetch("".concat(this.url,"/users/me/avatar"),{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)))}}({URL:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:" 4f091419-1c89-4f29-928b-74f786fd1208","Content-Type":"application/json"}});let m;Promise.all([p.getInitialCards(),p.getUserInfo()]).then((t=>{let[e,s]=t;m=s._id,E.renderItems(e),I.setUserInfo({name:s.name,job:s.about,avatar:s.avatar})}));const v=new class extends u{setAction(t){this.handleDelete=t}setEventListeners(){this._popup.addEventListener("submit",(t=>{t.preventDefault(),this.handleDelete(),this.close()})),super.setEventListeners()}}(".popup_confirm");v.setEventListeners();const{cardsTemplate:g}=t,b=document.querySelector(".profile__add-button"),f=e=>{const s=new l(e,g,(()=>{C.open(e)}),(t=>{v.open(),p.deleteCard(t).then((t=>{v.setAction((()=>(s._removeCard(),t)))})).catch((t=>console.log(t)))}),m,{handleLike:e=>{s._likeButton.classList.toggle(t.cardLikeButtonActive),s._likeButton.classList.contains(t.cardLikeButtonActive)?p.likeCard(e).then((t=>{s._cardCounter.textContent=t.likes.length})):p.dislikeCard(e).then((t=>{s._cardCounter.textContent=t.likes.length}))}});return s.generateCard()},E=new class{constructor(t,e){let{renderer:s}=t;this._renderer=s,this._container=e}renderItems(t){t.forEach((t=>{this._renderer(t)}))}setItem(t){this._container.append(t)}prependItem(t){this._container.prepend(t)}}({renderer:t=>{const e=f(t);E.setItem(e)}},e),k=new d("#addImagePopup",(()=>{const{caption:t,image:s}=k.getInputValues();_(!0,k._submitButton),p.addCard({name:t,link:s}).then((t=>{const s=f(t);e.prepend(s)})).catch((t=>console.log(t))).finally(_(!1,k._submitButton)),k.close()})),C=new class extends u{constructor(t){super(t),this._popupImage=document.querySelector(".popup__image"),this._popupCaption=document.querySelector(".popup__caption")}open(t){let{name:e,link:s}=t;this._popupImage.src=s,this._popupImage.alt=e,this._popupCaption.textContent=e,super.open()}}(".popup_image"),L={};var S;S={formSelector:".form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},[...document.querySelectorAll(S.formSelector)].forEach((t=>{const e=new h(S,t),s=t.getAttribute("name");L[s]=e,e.enableValidation()}));const y=document.querySelector("#profilePopup__edit-button"),I=new class{constructor(t){let{name:e,job:s,avatar:r}=t;this._name=document.querySelector(e),this._job=document.querySelector(s),this._avatar=document.querySelector(r)}getUserInfo(){return{name:this._name.textContent,job:this._job.textContent}}setUserInfo(t){let{name:e,job:s,avatar:r}=t;this._name.textContent=e,this._job.textContent=s,this._avatar.src=r}}({name:".profile__name",job:".profile__description",avatar:".profile__avatar-image"}),B=new d("#profilePopup",(()=>{const{fullName:t,description:e}=B.getInputValues();_(!0,B._submitButton),p.editProfileServer({name:t,about:e}).then((s=>(I.setUserInfo({name:t,job:e,avatar:s.avatar}),s))).catch((t=>console.log(t))).finally(_(!1,B._submitButton)),B.close()})),q=document.querySelector(".profile__overlay"),j=new d("#edit-profile-image",(()=>{const{updateImageUrl:t}=j.getInputValues();_(!0,j._submitButton),p.updateAvatarImage({avatar:t}).then((e=>{_(!0,j._submitButton),I.setUserInfo({name:e.name,job:e.about,avatar:t}),j.close()})).catch((t=>console.log(t))).finally(_(!1,j._submitButton)),j.close()}));b.addEventListener("click",(()=>k.open())),q.addEventListener("click",(()=>j.open())),y.addEventListener("click",(()=>{const{name:t,job:e}=I.getUserInfo();B.setInputValues({fullName:t,description:e}),B.open()})),C.setEventListeners(),B.setEventListeners(),k.setEventListeners(),j.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQU8sTUFjTUEsRUFBZSxDQUMxQkMsYUFBYyxZQUNkQyxlQUFnQixlQUNoQkMsY0FBZSxpQkFDZkMsVUFBVyxRQUNYQyxlQUFnQixlQUNoQkMsaUJBQWtCLGlCQUNsQkMsaUJBQWtCLHNCQUNsQkMsZUFBZ0IscUJBQ2hCQyxxQkFBc0IsMkJBQ3RCQyxZQUFhLHNCQUNiQyxZQUFhLGtCQVFGVixHQU5zQlcsU0FBU0MsY0FsQjVCLGtDQXFCZUQsU0FBU0MsY0FwQjNCLG1DQXFCbUJELFNBQVNDLGNBcEI3Qix3QkFxQmdCRCxTQUFTQyxjQXBCckIsa0JBcUJZRCxTQUFTQyxjQUFjYixFQUFhQyxnQkNoQzFELFVBQ0pHLEVBREksZUFFSkMsRUFGSSxpQkFHSkMsRUFISSxpQkFJSkMsRUFKSSxlQUtKQyxFQUxJLHFCQU1KQyxFQU5JLFlBT0pDLEdBQ0VWLEVBQ0csTUFBTWMsRUFDWEMsWUFDRUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFMUyxHQU9ULElBREEsV0FBRUMsR0FDRixFQUNBQyxLQUFLTixLQUFPQSxFQUNaTSxLQUFLQyxhQUFlTCxFQUNwQkksS0FBS0UsTUFBUVIsRUFBS1MsS0FDbEJILEtBQUtJLE1BQVFWLEVBQUtXLEtBQ2xCTCxLQUFLTSxXQUFhWixFQUFLYSxNQUN2QlAsS0FBS1EsVUFBWWIsRUFDakJLLEtBQUtTLE1BQVFuQixTQUNWQyxjQUFjUyxLQUFLUSxXQUNuQkUsUUFBUW5CLGNBQWNULEdBQ3RCNkIsV0FBVSxHQUNiWCxLQUFLWSxZQUFjWixLQUFLUyxNQUFNbEIsY0FBY0wsR0FDNUNjLEtBQUthLGNBQWdCYixLQUFLUyxNQUFNbEIsY0FBY04sR0FDOUNlLEtBQUtjLE9BQVNkLEtBQUtTLE1BQU1sQixjQUFjUixHQUN2Q2lCLEtBQUtlLGFBQWVmLEtBQUtTLE1BQU1sQixjQUFjSCxHQUM3Q1ksS0FBS2dCLGVBQWlCbkIsRUFDdEJHLEtBQUtpQixRQUFVdkIsRUFBS3dCLElBQ3BCbEIsS0FBS21CLFNBQVd6QixFQUFLMEIsTUFBTUYsSUFDM0JsQixLQUFLcUIsUUFBVXZCLEVBQ2ZFLEtBQUtzQixZQUFjdkIsRUFHckJ3QixjQUNFdkIsS0FBS1MsTUFBTWUsU0FFYkMscUJBQ0V6QixLQUFLWSxZQUFZYyxpQkFBaUIsU0FBVUMsSUFDMUNBLEVBQUVDLGtCQUNGNUIsS0FBS3NCLFlBQVl0QixLQUFLaUIsWUFFeEJqQixLQUFLYSxjQUFjYSxpQkFBaUIsU0FBVUMsSUFDNUNBLEVBQUVDLGtCQUNGNUIsS0FBS2dCLGVBQWVoQixLQUFLaUIsWUFFM0JqQixLQUFLUyxNQUFNaUIsaUJBQWlCLFNBQVMsS0FDbkMxQixLQUFLQyxrQkFHVDRCLGVBY0UsT0FiQTdCLEtBQUtjLE9BQU9nQixJQUFNOUIsS0FBS0ksTUFDdkJKLEtBQUtjLE9BQU9pQixJQUFNL0IsS0FBS0UsTUFDdkJGLEtBQUtlLGFBQWFpQixZQUFjaEMsS0FBS00sV0FBVzJCLE9BQ2hEakMsS0FBS1MsTUFBTWxCLGNBQWNQLEdBQWtCZ0QsWUFBY2hDLEtBQUtFLE1BQzlERixLQUFLeUIscUJBQ0R6QixLQUFLcUIsVUFBWXJCLEtBQUttQixXQUN4Qm5CLEtBQUthLGNBQWNxQixNQUFNQyxRQUFVLFFBRXJDbkMsS0FBS00sV0FBVzhCLE1BQU1DLElBQ2hCQSxFQUFLbkIsTUFBUWxCLEtBQUtxQixTQUNwQnJCLEtBQUtZLFlBQVkwQixVQUFVQyxJQUFJcEQsTUFHNUJhLEtBQUtTLE9DdEVULE1BQU0rQixFQUNYL0MsWUFBWWdELEcsVUFLT2QsSUFDSCxXQUFWQSxFQUFFZSxLQUNKMUMsS0FBSzJDLFUsRUFQa0IsMEIsc0JBQUEsSyx1REFBQSxLLEtBQ3pCM0MsS0FBSzRDLE9BQVN0RCxTQUFTQyxjQUFja0QsR0FDckN6QyxLQUFLNkMsYUFBZTdDLEtBQUs0QyxPQUFPckQsY0FBYyx3QkFDOUNTLEtBQUs4QyxRQUFVLGFBUWpCQyxPQUNFL0MsS0FBSzRDLE9BQU9OLFVBQVVDLElBQUl2QyxLQUFLOEMsU0FDL0J4RCxTQUFTb0MsaUJBQWlCLFVBQVcxQixLQUFLZ0QsaUJBRzVDTCxRQUNFM0MsS0FBSzRDLE9BQU9OLFVBQVVkLE9BQU94QixLQUFLOEMsU0FDbEN4RCxTQUFTMkQsb0JBQW9CLFVBQVdqRCxLQUFLZ0QsaUJBRy9DRSxvQkFDRWxELEtBQUs2QyxhQUFhbkIsaUJBQWlCLFNBQVMsSUFBTTFCLEtBQUsyQyxVQUN2RDNDLEtBQUs0QyxPQUFPbEIsaUJBQWlCLGFBQWNDLElBQ3JDQSxFQUFFd0IsU0FBV3hCLEVBQUV5QixlQUNqQnBELEtBQUsyQyxZQ3pCTixNQUFNVSxVQUFzQmIsRUFDakMvQyxZQUFZZ0QsRUFBZWEsR0FDekJDLE1BQU1kLEdBQ056QyxLQUFLd0QsY0FBZ0JGLEVBQ3JCdEQsS0FBS3lELFFBQVUsSUFBSXpELEtBQUs0QyxPQUFPYyxpQkFBaUIsa0JBQ2hEMUQsS0FBSzJELE1BQVEzRCxLQUFLNEMsT0FBT3JELGNBQWMsU0FDdkNTLEtBQUs0RCxjQUFnQjVELEtBQUsyRCxNQUFNcEUsY0FBYyx5QkFFaERvRCxRQUNFWSxNQUFNWixRQUNOM0MsS0FBSzJELE1BQU1FLFFBRWJDLGlCQUNFLE1BQU1DLEVBQVksR0FJbEIsT0FIQS9ELEtBQUt5RCxRQUFRTyxTQUFTQyxJQUNwQkYsRUFBVUUsRUFBTTlELE1BQVE4RCxFQUFNQyxTQUV6QkgsRUFFVEksZUFBZXpFLEdBQ2JNLEtBQUt5RCxRQUFRTyxTQUFTQyxJQUNwQkEsRUFBTUMsTUFBUXhFLEVBQUt1RSxFQUFNOUQsU0FHN0IrQyxvQkFDRUssTUFBTUwsb0JBQ05sRCxLQUFLNEMsT0FBT2xCLGlCQUFpQixVQUFXQyxJQUN0Q0EsRUFBRXlDLGlCQUNGcEUsS0FBS3dELGNBQWN4RCxLQUFLOEQsc0JDNUI5QixNQUFNTyxFQUNKNUUsWUFBWTZFLEVBQVVDLEdBQ3BCdkUsS0FBS3dFLFVBQVlGLEVBQ2pCdEUsS0FBS3lFLGFBQWVGLEVBQ3BCdkUsS0FBSzBFLFFBQVUxRSxLQUFLeUUsYUFBYWxGLGNBQy9CUyxLQUFLd0UsVUFBVUcsc0JBRWpCM0UsS0FBSzRFLFdBQWEsSUFDYjVFLEtBQUt5RSxhQUFhZixpQkFBaUIxRCxLQUFLd0UsVUFBVUssZ0JBSXpEQyxzQkFDRTlFLEtBQUswRSxRQUFRcEMsVUFBVUMsSUFBSXZDLEtBQUt3RSxVQUFVTyxxQkFDMUMvRSxLQUFLMEUsUUFBUU0sYUFBYSxZQUFZLEdBRXhDQyxxQkFDRWpGLEtBQUswRSxRQUFRcEMsVUFBVWQsT0FBT3hCLEtBQUt3RSxVQUFVTyxxQkFDN0MvRSxLQUFLMEUsUUFBUVEsZ0JBQWdCLFlBQVksR0FFM0NDLG1CQUNFLE9BQU9uRixLQUFLNEUsV0FBV3hDLE1BQU02QixJQUNuQkEsRUFBTW1CLFNBQVNDLFFBRzNCQyxxQkFDRXRGLEtBQUttRixtQkFDRG5GLEtBQUs4RSxzQkFDTDlFLEtBQUtpRixxQkFHWE0sbUJBQ0V2RixLQUFLOEUsc0JBQ0w5RSxLQUFLNEUsV0FBV1osU0FBU3dCLElBQ3ZCeEYsS0FBS3lGLGtCQUFrQkQsTUFJM0JFLGtCQUFrQnpCLEdBQ2hCLE1BQU0wQixFQUFlMUIsRUFBTTJCLGtCQUNyQkMsRUFBZTdGLEtBQUt5RSxhQUFhbEYsY0FBbEIsV0FBb0MwRSxFQUFNNkIsR0FBMUMsV0FDckJELEVBQWE3RCxZQUFjMkQsRUFDM0IxQixFQUFNM0IsVUFBVUMsSUFBSXZDLEtBQUt3RSxVQUFVdUIsaUJBQ25DRixFQUFhdkQsVUFBVUMsSUFBSXZDLEtBQUt3RSxVQUFVd0IsWUFFNUNQLGtCQUFrQnhCLEdBQ2hCLE1BQU00QixFQUFlN0YsS0FBS3lFLGFBQWFsRixjQUFsQixXQUFvQzBFLEVBQU02QixHQUExQyxXQUNyQjdCLEVBQU0zQixVQUFVZCxPQUFPeEIsS0FBS3dFLFVBQVV1QixpQkFDdENGLEVBQWF2RCxVQUFVZCxPQUFPeEIsS0FBS3dFLFVBQVV3QixZQUUvQ0Msb0JBQW9CaEMsR0FDbEJBLEVBQU1tQixTQUFTQyxNQUNYckYsS0FBS3lGLGtCQUFrQnhCLEdBQ3ZCakUsS0FBSzBGLGtCQUFrQnpCLEdBRzdCeEMscUJBQ0V6QixLQUFLNEUsV0FBV1osU0FBU0MsSUFDdkJBLEVBQU12QyxpQkFBaUIsU0FBUyxLQUM5QjFCLEtBQUtpRyxvQkFBb0JoQyxHQUN6QmpFLEtBQUtzRiwyQkFLWFksbUJBQ0VsRyxLQUFLc0YscUJBQ0x0RixLQUFLeUUsYUFBYS9DLGlCQUFpQixVQUFXQyxJQUM1Q0EsRUFBRXlDLGlCQUNGcEUsS0FBS3VGLHNCQUVQdkYsS0FBS3lCLHNCQzdEVCxTQUFTMEUsRUFBaUJDLEVBQU1DLEdBRTVCQSxFQUFhckUsWUFEWG9FLEVBQ3lCLFlBRUFDLEVBQWFsRyxLQUk1QyxNQUFNbUcsRUFBTSxJQ25CTCxNQUNMN0csWUFBWSxHQUFrQixJQUFsQixJQUFFOEcsRUFBRixRQUFPQyxHQUFXLEVBQzVCeEcsS0FBS3lHLElBQU1GLEVBQ1h2RyxLQUFLd0csUUFBVUEsRUFFakJFLGNBQ0UsT0FBT0MsTUFBTSxHQUFELE9BQUkzRyxLQUFLeUcsSUFBVCxhQUF5QixDQUNuQ0QsUUFBU3hHLEtBQUt3RyxVQUNiSSxNQUFNQyxHQUNQQSxFQUFJQyxHQUNBRCxFQUFJRSxPQUNKQyxRQUFRQyxPQUFSLGlCQUF5QkosRUFBSUssU0FBVUMsTUFBTUMsUUFBUUMsT0FHN0RDLGtCQUNFLE9BQU9YLE1BQU0sR0FBRCxPQUFJM0csS0FBS3lHLElBQVQsVUFBc0IsQ0FDaENELFFBQVN4RyxLQUFLd0csVUFDYkksTUFBTUMsR0FDUEEsRUFBSUMsR0FDQUQsRUFBSUUsT0FDSkMsUUFBUUMsT0FBUixpQkFBeUJKLEVBQUlLLFNBQVVDLE1BQU1DLFFBQVFDLE9BRzdERSxRQUFRLEdBQWdCLElBQWhCLEtBQUVwSCxFQUFGLEtBQVFFLEdBQVEsRUFDdEIsT0FBT3NHLE1BQU0sR0FBRCxPQUFJM0csS0FBS3lHLElBQVQsVUFBc0IsQ0FDaENELFFBQVN4RyxLQUFLd0csUUFDZGdCLE9BQVEsT0FDUkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnhILE9BQ0FFLFdBRUR1RyxNQUFNQyxHQUNQQSxFQUFJQyxHQUNBRCxFQUFJRSxPQUNKQyxRQUFRQyxPQUFSLGlCQUF5QkosRUFBSUssU0FBVUMsTUFBTUMsUUFBUUMsT0FHN0RPLGtCQUFrQixHQUFpQixJQUFqQixLQUFFekgsRUFBRixNQUFRMEgsR0FBUyxFQUNqQyxPQUFPbEIsTUFBTSxHQUFELE9BQUkzRyxLQUFLeUcsSUFBVCxhQUF5QixDQUNuQ0QsUUFBU3hHLEtBQUt3RyxRQUNkZ0IsT0FBUSxRQUNSQyxLQUFNQyxLQUFLQyxVQUFVLENBQ25CeEgsT0FDQTBILFlBRURqQixNQUFNQyxHQUNQQSxFQUFJQyxHQUNBRCxFQUFJRSxPQUNKQyxRQUFRQyxPQUFSLGlCQUF5QkosRUFBSUssU0FBVUMsTUFBTUMsUUFBUUMsT0FHN0RTLFdBQVdoQyxHQUNULE9BQU9hLE1BQU0sR0FBRCxPQUFJM0csS0FBS3lHLElBQVQsa0JBQXNCWCxHQUFNLENBQ3RDVSxRQUFTeEcsS0FBS3dHLFFBQ2RnQixPQUFRLFdBQ1BaLE1BQU1DLEdBQ1BBLEVBQUlDLEdBQ0FELEVBQUlFLE9BQ0pDLFFBQVFDLE9BQVIsaUJBQXlCSixFQUFJSyxTQUFVQyxNQUFNQyxRQUFRQyxPQUc3RFUsU0FBU2pDLEdBQ1AsT0FBT2EsTUFBTSxHQUFELE9BQUkzRyxLQUFLeUcsSUFBVCx3QkFBNEJYLEdBQU0sQ0FDNUNVLFFBQVN4RyxLQUFLd0csUUFDZGdCLE9BQVEsUUFDUFosTUFBTUMsR0FDUEEsRUFBSUMsR0FDQUQsRUFBSUUsT0FDSkMsUUFBUUMsT0FBUixpQkFBeUJKLEVBQUlLLFNBQVVDLE1BQU1DLFFBQVFDLE9BSTdEVyxZQUFZbEMsR0FDVixPQUFPYSxNQUFNLEdBQUQsT0FBSTNHLEtBQUt5RyxJQUFULHdCQUE0QlgsR0FBTSxDQUM1Q1UsUUFBU3hHLEtBQUt3RyxRQUNkZ0IsT0FBUSxXQUNQWixNQUFNQyxHQUNQQSxFQUFJQyxHQUNBRCxFQUFJRSxPQUNKQyxRQUFRQyxPQUFSLGlCQUF5QkosRUFBSUssU0FBVUMsTUFBTUMsUUFBUUMsT0FHN0RZLGtCQUFrQixHQUFZLElBQVosT0FBRUMsR0FBVSxFQUM1QixPQUFPdkIsTUFBTSxHQUFELE9BQUkzRyxLQUFLeUcsSUFBVCxvQkFBZ0MsQ0FDMUNELFFBQVN4RyxLQUFLd0csUUFDZGdCLE9BQVEsUUFDUkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQk8sYUFFRHRCLE1BQU1DLEdBQ1BBLEVBQUlDLEdBQ0FELEVBQUlFLE9BQ0pDLFFBQVFDLE9BQVIsaUJBQXlCSixFQUFJSyxTQUFVQyxNQUFNQyxRQUFRQyxTRHpFM0MsQ0FDbEJkLElBQUssaURBQ0xDLFFBQVMsQ0FDUDJCLGNBQWUsd0NBQ2YsZUFBZ0Isc0JBSXBCLElBQUlySSxFQUVKa0gsUUFBUW9CLElBQUksQ0FBQzlCLEVBQUlnQixrQkFBbUJoQixFQUFJSSxnQkFBZ0JFLE1BQ3RELElBQTBCLElBQXhCeUIsRUFBVUMsR0FBYyxFQUN4QnhJLEVBQVN3SSxFQUFTcEgsSUFDbEJxSCxFQUFTQyxZQUFZSCxHQUNyQkksRUFBUUMsWUFBWSxDQUNsQnZJLEtBQU1tSSxFQUFTbkksS0FDZndJLElBQUtMLEVBQVNULE1BQ2RLLE9BQVFJLEVBQVNKLFlBS3ZCLE1BQU03SSxFQUFjLElFeENiLGNBQThCbUQsRUFDbkNvRyxVQUFVQyxHQUNSN0ksS0FBS0gsYUFBZWdKLEVBRXRCM0Ysb0JBQ0VsRCxLQUFLNEMsT0FBT2xCLGlCQUFpQixVQUFXQyxJQUN0Q0EsRUFBRXlDLGlCQUNGcEUsS0FBS0gsZUFDTEcsS0FBSzJDLFdBRVBZLE1BQU1MLHNCRjhCOEIsa0JBQ3hDN0QsRUFBWTZELG9CQUVaLE1BQU0sY0FBRXJFLEdBQWtCSCxFQUNwQm9LLEVBQVl4SixTQUFTQyxjQUFjLHdCQUNuQ3dKLEVBQWNDLElBQ2xCLE1BQU1DLEVBQU8sSUFBSXpKLEVBQ2Z3SixFQUNBbkssR0FDQSxLQUNFcUssRUFBV25HLEtBQUtpRyxNQUVqQmxELElBQ0N6RyxFQUFZMEQsT0FDWnVELEVBQ0d3QixXQUFXaEMsR0FDWGMsTUFBTUMsSUFDTHhILEVBQVl1SixXQUFVLEtBQ3BCSyxFQUFLMUgsY0FDRXNGLFFBR1ZNLE9BQU9nQyxHQUFRL0IsUUFBUUMsSUFBSThCLE9BRWhDckosRUFDQSxDQUNFQyxXQUFhK0YsSUFDWG1ELEVBQUtySSxZQUFZMEIsVUFBVThHLE9BQU8xSyxFQUFhUyxzQkFFN0M4SixFQUFLckksWUFBWTBCLFVBQVUrRyxTQUFTM0ssRUFBYVMsc0JBRWpEbUgsRUFBSXlCLFNBQVNqQyxHQUFJYyxNQUFNQyxJQUNyQm9DLEVBQUtsSSxhQUFhaUIsWUFBYzZFLEVBQUl0RyxNQUFNMEIsVUFHNUNxRSxFQUFJMEIsWUFBWWxDLEdBQUljLE1BQU1DLElBQ3hCb0MsRUFBS2xJLGFBQWFpQixZQUFjNkUsRUFBSXRHLE1BQU0wQixhQU9wRCxPQURvQmdILEVBQUtwSCxnQkFJckIwRyxFQUFXLElHdkZWLE1BQ0w5SSxZQUFZLEVBQWM2SixHQUFtQixJQUFqQyxTQUFFQyxHQUErQixFQUMzQ3ZKLEtBQUt3SixVQUFZRCxFQUNqQnZKLEtBQUt5SixXQUFhSCxFQUVwQmQsWUFBWTlJLEdBQ1ZBLEVBQUtzRSxTQUFTMEYsSUFDWjFKLEtBQUt3SixVQUFVRSxNQUluQkMsUUFBUUQsR0FDTjFKLEtBQUt5SixXQUFXRyxPQUFPRixHQUV6QkcsWUFBWUgsR0FDVjFKLEtBQUt5SixXQUFXSyxRQUFRSixLSHlFMUIsQ0FDRUgsU0FBVzdKLElBQ1QsTUFBTXVKLEVBQU9GLEVBQVdySixHQUN4QjZJLEVBQVNvQixRQUFRVixLQUdyQnRLLEdBR0lvTCxFQUFjLElBQUkxRyxFQUFjLGtCQUFrQixLQUN0RCxNQUFNLFFBQUUyRyxFQUFGLE1BQVdDLEdBQVVGLEVBQVlqRyxpQkFDdkNxQyxHQUFpQixFQUFNNEQsRUFBWW5HLGVBQ25DMEMsRUFDR2lCLFFBQVEsQ0FBRXBILEtBQU02SixFQUFTM0osS0FBTTRKLElBQy9CckQsTUFBTUMsSUFDTCxNQUFNcUQsRUFBY25CLEVBQVdsQyxHQUMvQmxJLEVBQWFtTCxRQUFRSSxNQUV0Qi9DLE9BQU9nQyxHQUFRL0IsUUFBUUMsSUFBSThCLEtBQzNCZ0IsUUFBUWhFLEdBQWlCLEVBQU80RCxFQUFZbkcsZ0JBRS9DbUcsRUFBWXBILFdBRVJ1RyxFQUFhLElJOUdaLGNBQTZCMUcsRUFDbEMvQyxZQUFZZ0QsR0FDVmMsTUFBTWQsR0FDTnpDLEtBQUtvSyxZQUFjOUssU0FBU0MsY0FBYyxpQkFDMUNTLEtBQUtxSyxjQUFnQi9LLFNBQVNDLGNBQWMsbUJBRTlDd0QsS0FBSyxHQUFnQixJQUFoQixLQUFFNUMsRUFBRixLQUFRRSxHQUFRLEVBQ25CTCxLQUFLb0ssWUFBWXRJLElBQU16QixFQUN2QkwsS0FBS29LLFlBQVlySSxJQUFNNUIsRUFDdkJILEtBQUtxSyxjQUFjckksWUFBYzdCLEVBQ2pDb0QsTUFBTVIsU0pvRzRCLGdCQUtoQ3VILEVBQWlCLEdBQ0lDLFFMckhDLENBQzFCQyxhQUFjLFFBQ2QzRixjQUFlLGdCQUNmRixxQkFBc0Isd0JBQ3RCSSxvQkFBcUIsZ0NBQ3JCZ0IsZ0JBQWlCLDBCQUNqQkMsV0FBWSw2QktnSEssSUFBSTFHLFNBQVNvRSxpQkFBaUI2RyxFQUFhQyxlQUNuRHhHLFNBQVN5RyxJQUNoQixNQUFNQyxFQUFtQixJQUFJckcsRUFBZWtHLEVBQWNFLEdBQ3BERSxFQUFXRixFQUFLRyxhQUFhLFFBQ25DTixFQUFlSyxHQUFZRCxFQUMzQkEsRUFBaUJ4RSxzQkFNckIsTUFBTTJFLEVBQW9CdkwsU0FBU0MsY0FBYyw4QkFJM0NrSixFQUFVLElLcklULE1BQ0xoSixZQUFZLEdBQXVCLElBQXZCLEtBQUVVLEVBQUYsSUFBUXdJLEVBQVIsT0FBYVQsR0FBVSxFQUNqQ2xJLEtBQUs4SyxNQUFReEwsU0FBU0MsY0FBY1ksR0FDcENILEtBQUsrSyxLQUFPekwsU0FBU0MsY0FBY29KLEdBQ25DM0ksS0FBS2dMLFFBQVUxTCxTQUFTQyxjQUFjMkksR0FFeEN4QixjQUNFLE1BQU8sQ0FBRXZHLEtBQU1ILEtBQUs4SyxNQUFNOUksWUFBYTJHLElBQUszSSxLQUFLK0ssS0FBSy9JLGFBRXhEMEcsWUFBWSxHQUF1QixJQUF2QixLQUFFdkksRUFBRixJQUFRd0ksRUFBUixPQUFhVCxHQUFVLEVBQ2pDbEksS0FBSzhLLE1BQU05SSxZQUFjN0IsRUFDekJILEtBQUsrSyxLQUFLL0ksWUFBYzJHLEVBQ3hCM0ksS0FBS2dMLFFBQVFsSixJQUFNb0csSUx5SE0sQ0FDM0IvSCxLQUFNLGlCQUNOd0ksSUFBSyx3QkFDTFQsT0FBUSwyQkFFSitDLEVBQWMsSUFBSTVILEVBQWMsaUJBQWlCLEtBQ3JELE1BQU0sU0FBRTZILEVBQUYsWUFBWUMsR0FBZ0JGLEVBQVluSCxpQkFDOUNxQyxHQUFpQixFQUFNOEUsRUFBWXJILGVBQ25DMEMsRUFDR3NCLGtCQUFrQixDQUFFekgsS0FBTStLLEVBQVVyRCxNQUFPc0QsSUFDM0N2RSxNQUFNQyxJQUNMNEIsRUFBUUMsWUFBWSxDQUNsQnZJLEtBQU0rSyxFQUNOdkMsSUFBS3dDLEVBQ0xqRCxPQUFRckIsRUFBSXFCLFNBRVByQixLQUVSTSxPQUFPZ0MsR0FBUS9CLFFBQVFDLElBQUk4QixLQUMzQmdCLFFBQVFoRSxHQUFpQixFQUFPOEUsRUFBWXJILGdCQUMvQ3FILEVBQVl0SSxXQUVSeUksRUFBcUI5TCxTQUFTQyxjQUFjLHFCQUM1QzhMLEVBQWdCLElBQUloSSxFQUFjLHVCQUF1QixLQUM3RCxNQUFNLGVBQUVpSSxHQUFtQkQsRUFBY3ZILGlCQUN6Q3FDLEdBQWlCLEVBQU1rRixFQUFjekgsZUFDckMwQyxFQUNHMkIsa0JBQWtCLENBQUVDLE9BQVFvRCxJQUM1QjFFLE1BQU1DLElBQ0xWLEdBQWlCLEVBQU1rRixFQUFjekgsZUFDckM2RSxFQUFRQyxZQUFZLENBQ2xCdkksS0FBTTBHLEVBQUkxRyxLQUNWd0ksSUFBSzlCLEVBQUlnQixNQUNUSyxPQUFRb0QsSUFFVkQsRUFBYzFJLFdBRWZ3RSxPQUFPZ0MsR0FBUS9CLFFBQVFDLElBQUk4QixLQUMzQmdCLFFBQVFoRSxHQUFpQixFQUFPa0YsRUFBY3pILGdCQUNqRHlILEVBQWMxSSxXQUdoQm1HLEVBQVVwSCxpQkFBaUIsU0FBUyxJQUFNcUksRUFBWWhILFNBQ3REcUksRUFBbUIxSixpQkFBaUIsU0FBUyxJQUFNMkosRUFBY3RJLFNBRWpFOEgsRUFBa0JuSixpQkFBaUIsU0FBUyxLQUMxQyxNQUFNLEtBQUV2QixFQUFGLElBQVF3SSxHQUFRRixFQUFRL0IsY0FDOUJ1RSxFQUFZOUcsZUFBZSxDQUFFK0csU0FBVS9LLEVBQU1nTCxZQUFheEMsSUFDMURzQyxFQUFZbEksVUFHZG1HLEVBQVdoRyxvQkFDWCtILEVBQVkvSCxvQkFDWjZHLEVBQVk3RyxvQkFDWm1JLEVBQWNuSSxvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQVBJLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY29uZmlnT2JqZWN0ID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0LWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3N1Ym1pdC1idXR0b25faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxufTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwU2V0dGluZ3MgPSB7XHJcbiAgaW5wdXRDYXB0aW9uOiBcIi5wb3B1cF9faW5wdXRfYWRkUGhvdG9fY2FwdGlvblwiLFxyXG4gIGlucHV0TGluazogXCIucG9wdXBfX2lucHV0X2FkZFBob3RvX0ltYWdlVVJMXCIsXHJcbiAgY2FyZEZvcm06IFwiI2FkZEltYWdlUG9wdXBfX2Zvcm1cIixcclxuICBhZGRDYXJkUG9wdXA6IFwiI2FkZEltYWdlUG9wdXBcIixcclxufTtcclxuZXhwb3J0IGNvbnN0IGNhcmRTZXR0aW5ncyA9IHtcclxuICBjYXJkc1NlY3Rpb246IFwiLmVsZW1lbnRzXCIsXHJcbiAgY2FyZEltYWdlUG9wdXA6IFwiLnBvcHVwX2ltYWdlXCIsXHJcbiAgY2FyZHNUZW1wbGF0ZTogXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gIGNhcmRDbGFzczogXCIuY2FyZFwiLFxyXG4gIGNhcmRJbWFnZUNsYXNzOiBcIi5jYXJkX19pbWFnZVwiLFxyXG4gIGNhcmRDYXB0aW9uQ2xhc3M6IFwiLmNhcmRfX2NhcHRpb25cIixcclxuICBjYXJkUmVtb3ZlQnV0dG9uOiBcIi5jYXJkX19yZW1vdmVCdXR0b25cIixcclxuICBjYXJkTGlrZUJ1dHRvbjogXCIuY2FyZF9fbGlrZS1idXR0b25cIixcclxuICBjYXJkTGlrZUJ1dHRvbkFjdGl2ZTogXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIixcclxuICBjYXJkQ291bnRlcjogXCIuY2FyZF9fbGlrZS1jb3VudGVyXCIsXHJcbiAgZGVsZXRlUG9wdXA6IFwiLnBvcHVwX2NvbmZpcm1cIixcclxufTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRQb3B1cENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIHBvcHVwU2V0dGluZ3MuaW5wdXRDYXB0aW9uXHJcbik7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkUG9wdXBVUkwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2V0dGluZ3MuaW5wdXRMaW5rKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRQb3B1cEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2V0dGluZ3MuY2FyZEZvcm0pO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNldHRpbmdzLmFkZENhcmRQb3B1cCk7XHJcbmV4cG9ydCBjb25zdCBjYXJkc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcmRTZXR0aW5ncy5jYXJkc1NlY3Rpb24pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbnB1dHMgPSB7XHJcbiAgbmFtZTogXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiLFxyXG4gIGpvYjogXCIucG9wdXBfX2lucHV0X3R5cGVfZGVzY3JpcHRpb25cIixcclxufTtcclxuIiwiaW1wb3J0IHsgY2FyZFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5jb25zdCB7XHJcbiAgY2FyZENsYXNzLFxyXG4gIGNhcmRJbWFnZUNsYXNzLFxyXG4gIGNhcmRDYXB0aW9uQ2xhc3MsXHJcbiAgY2FyZFJlbW92ZUJ1dHRvbixcclxuICBjYXJkTGlrZUJ1dHRvbixcclxuICBjYXJkTGlrZUJ1dHRvbkFjdGl2ZSxcclxuICBjYXJkQ291bnRlcixcclxufSA9IGNhcmRTZXR0aW5ncztcclxuZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIHRlbXBsYXRlLFxyXG4gICAgaGFuZGxlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGUsXHJcbiAgICB1c2VySWQsXHJcbiAgICB7IGhhbmRsZUxpa2UgfVxyXG4gICkge1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX2hhbmRsZUNsaWNrID0gaGFuZGxlQ2xpY2s7XHJcbiAgICB0aGlzLl90ZXh0ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzRGF0YSA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlO1xyXG4gICAgdGhpcy5fY2FyZCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKGNhcmRDbGFzcylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoY2FyZExpa2VCdXR0b24pO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKGNhcmRSZW1vdmVCdXR0b24pO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoY2FyZEltYWdlQ2xhc3MpO1xyXG4gICAgdGhpcy5fY2FyZENvdW50ZXIgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoY2FyZENvdW50ZXIpO1xyXG4gICAgdGhpcy5fZGVsZXRlSGFuZGxlciA9IGhhbmRsZURlbGV0ZTtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fbGlrZUFjdGlvbiA9IGhhbmRsZUxpa2U7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHRoaXMuX2xpa2VBY3Rpb24odGhpcy5fY2FyZElkKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB0aGlzLl9kZWxldGVIYW5kbGVyKHRoaXMuX2NhcmRJZCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2NhcmRDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXNEYXRhLmxlbmd0aDtcclxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihjYXJkQ2FwdGlvbkNsYXNzKS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICB0aGlzLl9yZW1vdmVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fbGlrZXNEYXRhLnNvbWUoKGxpa2UpID0+IHtcclxuICAgICAgaWYgKGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoY2FyZExpa2VCdXR0b25BY3RpdmUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5faXNPcGVuID0gXCJwb3B1cF9zaG93XCI7XHJcbiAgfVxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lzT3Blbik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faXNPcGVuKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRzID0gWy4uLnRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIik7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbiAgZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dERhdGEgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dERhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0RGF0YTtcclxuICB9XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgY29uZmlnT2JqZWN0IH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5jbGFzcyBGb3JtVmFsaWRhdGlvbiB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX3N1Ym1pdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gW1xyXG4gICAgICAuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpLFxyXG4gICAgXTtcclxuICB9XHJcblxyXG4gIF9kaXNhYmxlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICB0aGlzLl9zdWJtaXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICB9XHJcbiAgX2VuYWJsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgdGhpcy5fc3VibWl0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgfVxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgdGhpcy5faGFzSW52YWxpZElucHV0KClcclxuICAgICAgPyB0aGlzLl9kaXNhYmxlQnV0dG9uU3RhdGUoKVxyXG4gICAgICA6IHRoaXMuX2VuYWJsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBfcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dFcnJvck1lc3NhZ2UoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGlucHV0LnZhbGlkaXR5LnZhbGlkXHJcbiAgICAgID8gdGhpcy5faGlkZUVycm9yTWVzc2FnZShpbnB1dClcclxuICAgICAgOiB0aGlzLl9zaG93RXJyb3JNZXNzYWdlKGlucHV0KTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3Jlc2V0VmFsaWRhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgY29uZmlnT2JqZWN0LCBGb3JtVmFsaWRhdGlvbiB9O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBBUEkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BUElcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmRcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mb1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XHJcbmltcG9ydCB7IGNhcmRzU2VjdGlvbiwgY2FyZFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdGlvbiwgY29uZmlnT2JqZWN0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRpb24uanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoU3VibWl0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0XCI7XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VTdWJtaXRUZXh0KGJvb2wsIHN1Ym1pdEJ1dHRvbikge1xyXG4gIGlmIChib29sKSB7XHJcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBzdWJtaXRCdXR0b24ubmFtZTtcclxuICB9XHJcbn1cclxuLy9Db25uZWN0IHRvIHRvIHRoZSBQcmFjdGljdW0ncyBBUElcclxuY29uc3QgYXBpID0gbmV3IEFQSSh7XHJcbiAgVVJMOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIiA0ZjA5MTQxOS0xYzg5LTRmMjktOTI4Yi03NGY3ODZmZDEyMDhcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0SW5pdGlhbENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSkudGhlbihcclxuICAoW2NhcmREYXRhLCB1c2VyRGF0YV0pID0+IHtcclxuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcclxuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmREYXRhKTtcclxuICAgIHByb2ZpbGUuc2V0VXNlckluZm8oe1xyXG4gICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICBqb2I6IHVzZXJEYXRhLmFib3V0LFxyXG4gICAgICBhdmF0YXI6IHVzZXJEYXRhLmF2YXRhcixcclxuICAgIH0pO1xyXG4gIH1cclxuKTtcclxuXHJcbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5wb3B1cF9jb25maXJtXCIpO1xyXG5kZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vL0NhcmQgY3JlYXRpb24gbG9naWNcclxuY29uc3QgeyBjYXJkc1RlbXBsYXRlIH0gPSBjYXJkU2V0dGluZ3M7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgY3JlYXRlQ2FyZCA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIGNhcmRzVGVtcGxhdGUsXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIGltYWdlUG9wdXAub3BlbihpdGVtKTtcclxuICAgIH0sXHJcbiAgICAoaWQpID0+IHtcclxuICAgICAgZGVsZXRlUG9wdXAub3BlbigpO1xyXG4gICAgICBhcGlcclxuICAgICAgICAuZGVsZXRlQ2FyZChpZClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBkZWxldGVQb3B1cC5zZXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLl9yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgIH0sXHJcbiAgICB1c2VySWQsXHJcbiAgICB7XHJcbiAgICAgIGhhbmRsZUxpa2U6IChpZCkgPT4ge1xyXG4gICAgICAgIGNhcmQuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShjYXJkU2V0dGluZ3MuY2FyZExpa2VCdXR0b25BY3RpdmUpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGNhcmQuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKGNhcmRTZXR0aW5ncy5jYXJkTGlrZUJ1dHRvbkFjdGl2ZSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGFwaS5saWtlQ2FyZChpZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuX2NhcmRDb3VudGVyLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcGkuZGlzbGlrZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLl9jYXJkQ291bnRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgKTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XHJcbiAgICAgIGNhcmRMaXN0LnNldEl0ZW0oY2FyZCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgY2FyZHNTZWN0aW9uXHJcbik7XHJcblxyXG5jb25zdCBhZGRDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2FkZEltYWdlUG9wdXBcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHsgY2FwdGlvbiwgaW1hZ2UgfSA9IGFkZENhcmRGb3JtLmdldElucHV0VmFsdWVzKCk7XHJcbiAgY2hhbmdlU3VibWl0VGV4dCh0cnVlLCBhZGRDYXJkRm9ybS5fc3VibWl0QnV0dG9uKTtcclxuICBhcGlcclxuICAgIC5hZGRDYXJkKHsgbmFtZTogY2FwdGlvbiwgbGluazogaW1hZ2UgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKHJlcyk7XHJcbiAgICAgIGNhcmRzU2VjdGlvbi5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KGNoYW5nZVN1Ym1pdFRleHQoZmFsc2UsIGFkZENhcmRGb3JtLl9zdWJtaXRCdXR0b24pKTtcclxuXHJcbiAgYWRkQ2FyZEZvcm0uY2xvc2UoKTtcclxufSk7XHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfaW1hZ2VcIik7XHJcblxyXG4vL0VuZCBvZiBDYXJkIGxvZ2ljXHJcblxyXG4vL0Zvcm0gbG9naWNcclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbnMgPSAoY29uZmlnT2JqZWN0KSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWdPYmplY3QuZm9ybVNlbGVjdG9yKV07XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybSkgPT4ge1xyXG4gICAgY29uc3QgbmV3Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdGlvbihjb25maWdPYmplY3QsIGZvcm0pO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSBuZXdGb3JtVmFsaWRhdG9yO1xyXG4gICAgbmV3Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn07XHJcbmVuYWJsZVZhbGlkYXRpb25zKGNvbmZpZ09iamVjdCk7XHJcbi8vRW5kIG9mIEZvcm0gbG9naWNcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlUG9wdXBfX2VkaXQtYnV0dG9uXCIpO1xyXG5cclxuLy9Qcm9maWxlIHBvcHVwICYgVXNlckluZm8gaW1wbGVtZW50YXRpb25cclxuXHJcbmNvbnN0IHByb2ZpbGUgPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBqb2I6IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgYXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXItaW1hZ2VcIixcclxufSk7XHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcHJvZmlsZVBvcHVwXCIsICgpID0+IHtcclxuICBjb25zdCB7IGZ1bGxOYW1lLCBkZXNjcmlwdGlvbiB9ID0gcHJvZmlsZUZvcm0uZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICBjaGFuZ2VTdWJtaXRUZXh0KHRydWUsIHByb2ZpbGVGb3JtLl9zdWJtaXRCdXR0b24pO1xyXG4gIGFwaVxyXG4gICAgLmVkaXRQcm9maWxlU2VydmVyKHsgbmFtZTogZnVsbE5hbWUsIGFib3V0OiBkZXNjcmlwdGlvbiB9KVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBwcm9maWxlLnNldFVzZXJJbmZvKHtcclxuICAgICAgICBuYW1lOiBmdWxsTmFtZSxcclxuICAgICAgICBqb2I6IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGF2YXRhcjogcmVzLmF2YXRhcixcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiByZXM7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseShjaGFuZ2VTdWJtaXRUZXh0KGZhbHNlLCBwcm9maWxlRm9ybS5fc3VibWl0QnV0dG9uKSk7XHJcbiAgcHJvZmlsZUZvcm0uY2xvc2UoKTtcclxufSk7XHJcbmNvbnN0IHByb2ZpbGVJbWFnZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fb3ZlcmxheVwiKTtcclxuY29uc3QgdXBsb2FkUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2VkaXQtcHJvZmlsZS1pbWFnZVwiLCAoKSA9PiB7XHJcbiAgY29uc3QgeyB1cGRhdGVJbWFnZVVybCB9ID0gdXBsb2FkUHJvZmlsZS5nZXRJbnB1dFZhbHVlcygpO1xyXG4gIGNoYW5nZVN1Ym1pdFRleHQodHJ1ZSwgdXBsb2FkUHJvZmlsZS5fc3VibWl0QnV0dG9uKTtcclxuICBhcGlcclxuICAgIC51cGRhdGVBdmF0YXJJbWFnZSh7IGF2YXRhcjogdXBkYXRlSW1hZ2VVcmwgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY2hhbmdlU3VibWl0VGV4dCh0cnVlLCB1cGxvYWRQcm9maWxlLl9zdWJtaXRCdXR0b24pO1xyXG4gICAgICBwcm9maWxlLnNldFVzZXJJbmZvKHtcclxuICAgICAgICBuYW1lOiByZXMubmFtZSxcclxuICAgICAgICBqb2I6IHJlcy5hYm91dCxcclxuICAgICAgICBhdmF0YXI6IHVwZGF0ZUltYWdlVXJsLFxyXG4gICAgICB9KTtcclxuICAgICAgdXBsb2FkUHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgLmZpbmFsbHkoY2hhbmdlU3VibWl0VGV4dChmYWxzZSwgdXBsb2FkUHJvZmlsZS5fc3VibWl0QnV0dG9uKSk7XHJcbiAgdXBsb2FkUHJvZmlsZS5jbG9zZSgpO1xyXG59KTtcclxuXHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYWRkQ2FyZEZvcm0ub3BlbigpKTtcclxucHJvZmlsZUltYWdlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB1cGxvYWRQcm9maWxlLm9wZW4oKSk7XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHsgbmFtZSwgam9iIH0gPSBwcm9maWxlLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZUZvcm0uc2V0SW5wdXRWYWx1ZXMoeyBmdWxsTmFtZTogbmFtZSwgZGVzY3JpcHRpb246IGpvYiB9KTtcclxuICBwcm9maWxlRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hZGRDYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG51cGxvYWRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiIsImV4cG9ydCBjbGFzcyBBUEkge1xyXG4gIGNvbnN0cnVjdG9yKHsgVVJMLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMudXJsID0gVVJMO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5va1xyXG4gICAgICAgID8gcmVzLmpzb24oKVxyXG4gICAgICAgIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCkuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICApO1xyXG4gIH1cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5va1xyXG4gICAgICAgID8gcmVzLmpzb24oKVxyXG4gICAgICAgIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCkuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICApO1xyXG4gIH1cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2tcclxuICAgICAgICA/IHJlcy5qc29uKClcclxuICAgICAgICA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gICAgKTtcclxuICB9XHJcbiAgZWRpdFByb2ZpbGVTZXJ2ZXIoeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5va1xyXG4gICAgICAgID8gcmVzLmpzb24oKVxyXG4gICAgICAgIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCkuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICApO1xyXG4gIH1cclxuICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rXHJcbiAgICAgICAgPyByZXMuanNvbigpXHJcbiAgICAgICAgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKS5jYXRjaChjb25zb2xlLmxvZylcclxuICAgICk7XHJcbiAgfVxyXG4gIGxpa2VDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rXHJcbiAgICAgICAgPyByZXMuanNvbigpXHJcbiAgICAgICAgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKS5jYXRjaChjb25zb2xlLmxvZylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBkaXNsaWtlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5va1xyXG4gICAgICAgID8gcmVzLmpzb24oKVxyXG4gICAgICAgIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCkuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICApO1xyXG4gIH1cclxuICB1cGRhdGVBdmF0YXJJbWFnZSh7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5va1xyXG4gICAgICAgID8gcmVzLmpzb24oKVxyXG4gICAgICAgIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCkuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgc2V0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5oYW5kbGVEZWxldGUgPSBhY3Rpb247XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGVsZXRlKCk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgc2VsZWN0ZWRDb250YWluZXIpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBzZWxlY3RlZENvbnRhaW5lcjtcclxuICB9XHJcbiAgcmVuZGVySXRlbXMoZGF0YSkge1xyXG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG4gIHByZXBlbmRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcbiAgfVxyXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBqb2IsIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4geyBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LCBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCB9O1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gam9iO1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNhcmRTZXR0aW5ncyIsImNhcmRzU2VjdGlvbiIsImNhcmRJbWFnZVBvcHVwIiwiY2FyZHNUZW1wbGF0ZSIsImNhcmRDbGFzcyIsImNhcmRJbWFnZUNsYXNzIiwiY2FyZENhcHRpb25DbGFzcyIsImNhcmRSZW1vdmVCdXR0b24iLCJjYXJkTGlrZUJ1dHRvbiIsImNhcmRMaWtlQnV0dG9uQWN0aXZlIiwiY2FyZENvdW50ZXIiLCJkZWxldGVQb3B1cCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0ZW1wbGF0ZSIsImhhbmRsZUNsaWNrIiwiaGFuZGxlRGVsZXRlIiwidXNlcklkIiwiaGFuZGxlTGlrZSIsInRoaXMiLCJfaGFuZGxlQ2xpY2siLCJfdGV4dCIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXNEYXRhIiwibGlrZXMiLCJfdGVtcGxhdGUiLCJfY2FyZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfbGlrZUJ1dHRvbiIsIl9yZW1vdmVCdXR0b24iLCJfaW1hZ2UiLCJfY2FyZENvdW50ZXIiLCJfZGVsZXRlSGFuZGxlciIsIl9jYXJkSWQiLCJfaWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX3VzZXJJZCIsIl9saWtlQWN0aW9uIiwiX3JlbW92ZUNhcmQiLCJyZW1vdmUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwic3R5bGUiLCJkaXNwbGF5Iiwic29tZSIsImxpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9jbG9zZUJ1dHRvbiIsIl9pc09wZW4iLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsInJlc2V0IiwiZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dERhdGEiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicHJldmVudERlZmF1bHQiLCJGb3JtVmFsaWRhdGlvbiIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfc3VibWl0Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRMaXN0IiwiaW5wdXRTZWxlY3RvciIsIl9kaXNhYmxlQnV0dG9uU3RhdGUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic2V0QXR0cmlidXRlIiwiX2VuYWJsZUJ1dHRvblN0YXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfcmVzZXRWYWxpZGF0aW9uIiwiaW5wdXRFbGVtZW50IiwiX2hpZGVFcnJvck1lc3NhZ2UiLCJfc2hvd0Vycm9yTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImVuYWJsZVZhbGlkYXRpb24iLCJjaGFuZ2VTdWJtaXRUZXh0IiwiYm9vbCIsInN1Ym1pdEJ1dHRvbiIsImFwaSIsIlVSTCIsImhlYWRlcnMiLCJ1cmwiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJnZXRJbml0aWFsQ2FyZHMiLCJhZGRDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0UHJvZmlsZVNlcnZlciIsImFib3V0IiwiZGVsZXRlQ2FyZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJ1cGRhdGVBdmF0YXJJbWFnZSIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJjYXJkRGF0YSIsInVzZXJEYXRhIiwiY2FyZExpc3QiLCJyZW5kZXJJdGVtcyIsInByb2ZpbGUiLCJzZXRVc2VySW5mbyIsImpvYiIsInNldEFjdGlvbiIsImFjdGlvbiIsImFkZEJ1dHRvbiIsImNyZWF0ZUNhcmQiLCJpdGVtIiwiY2FyZCIsImltYWdlUG9wdXAiLCJlcnIiLCJ0b2dnbGUiLCJjb250YWlucyIsInNlbGVjdGVkQ29udGFpbmVyIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInNldEl0ZW0iLCJhcHBlbmQiLCJwcmVwZW5kSXRlbSIsInByZXBlbmQiLCJhZGRDYXJkRm9ybSIsImNhcHRpb24iLCJpbWFnZSIsImNhcmRFbGVtZW50IiwiZmluYWxseSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsImZvcm1WYWxpZGF0b3JzIiwiY29uZmlnT2JqZWN0IiwiZm9ybVNlbGVjdG9yIiwiZm9ybSIsIm5ld0Zvcm1WYWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsInByb2ZpbGVFZGl0QnV0dG9uIiwiX25hbWUiLCJfam9iIiwiX2F2YXRhciIsInByb2ZpbGVGb3JtIiwiZnVsbE5hbWUiLCJkZXNjcmlwdGlvbiIsInByb2ZpbGVJbWFnZUJ1dHRvbiIsInVwbG9hZFByb2ZpbGUiLCJ1cGRhdGVJbWFnZVVybCJdLCJzb3VyY2VSb290IjoiIn0=