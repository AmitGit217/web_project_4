!function(){"use strict";const t=(t,e)=>fetch(t,e).then((t=>t.ok?t.json():Promise.reject("Error: ".concat(t.status)).catch(console.log)));function e(t,e){e.textContent=t?"Saving...":e.name}const s={cardsSection:".elements",cardImagePopup:".popup_image",cardsTemplate:"#card-template",cardClass:".card",cardImageClass:".card__image",cardCaptionClass:".card__caption",cardRemoveButton:".card__removeButton",cardLikeButton:".card__like-button",cardLikeButtonActive:"card__like-button_active",cardCounter:".card__like-counter",deletePopup:".popup_confirm"},n=(document.querySelector(".popup__input_addPhoto_caption"),document.querySelector(".popup__input_addPhoto_ImageURL"),document.querySelector("#addImagePopup__form"),document.querySelector("#addImagePopup"),document.querySelector(s.cardsSection)),{cardClass:r,cardImageClass:i,cardCaptionClass:a,cardRemoveButton:o,cardLikeButton:c,cardLikeButtonActive:l,cardCounter:u}=s;class d{constructor(t){let{data:e,template:s,handleClick:n,handleDelete:a,userId:l,handleLike:d}=t;this.data=e,this._handleClick=n,this._text=e.name,this._link=e.link,this._likesData=e.likes,this._template=s,this._card=document.querySelector(this._template).content.querySelector(r).cloneNode(!0),this._likeButton=this._card.querySelector(c),this._removeButton=this._card.querySelector(o),this._image=this._card.querySelector(i),this._cardCounter=this._card.querySelector(u),this._deleteHandler=a,this._cardId=e._id,this._ownerId=e.owner._id,this._userId=l,this._likeAction=d}_removeCard(){this._card.remove()}_setEventListeners(){this._likeButton.addEventListener("click",(t=>{t.stopPropagation(),this._likeAction(this._cardId)})),this._removeButton.addEventListener("click",(t=>{t.stopPropagation(),this._deleteHandler(this._cardId)})),this._card.addEventListener("click",(()=>{this._handleClick()}))}generateCard(){return this._image.src=this._link,this._image.alt=this._text,this._cardCounter.textContent=this._likesData.length,this._card.querySelector(a).textContent=this._text,this._setEventListeners(),this._userId!==this._ownerId&&(this._removeButton.style.display="none"),this._likesData.some((t=>{t._id===this._userId&&this._likeButton.classList.add(l)})),this._card}}class h{constructor(t){var e,s;s=t=>{"Escape"===t.key&&this.close()},(e="_handleEscClose")in this?Object.defineProperty(this,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[e]=s,this._popup=document.querySelector(t),this._closeButton=this._popup.querySelector(".popup__close-button"),this._isOpen="popup_show"}open(){this._popup.classList.add(this._isOpen),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove(this._isOpen),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close())),this._popup.addEventListener("mousedown",(t=>{t.target===t.currentTarget&&this.close()}))}}class _ extends h{constructor(t,e){super(t),this._handleSubmit=e,this._inputs=[...this._popup.querySelectorAll(".popup__input")],this._form=this._popup.querySelector(".form"),this._submitButton=this._form.querySelector(".popup__submit-button")}close(){super.close(),this._form.reset()}getInputValues(){const t={};return this._inputs.forEach((e=>{t[e.name]=e.value})),t}setInputValues(t){this._inputs.forEach((e=>{e.value=t[e.name]}))}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(t=>{t.preventDefault(),this._handleSubmit(this.getInputValues())}))}}class p{constructor(t,e){this._settings=t,this._formElement=e,this._submit=this._formElement.querySelector(this._settings.submitButtonSelector),this._inputList=[...this._formElement.querySelectorAll(this._settings.inputSelector)]}_disableButtonState(){this._submit.classList.add(this._settings.inactiveButtonClass),this._submit.setAttribute("disabled",!0)}_enableButtonState(){this._submit.classList.remove(this._settings.inactiveButtonClass),this._submit.removeAttribute("disabled",!0)}_hasInvalidInput(){return this._inputList.some((t=>!t.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this._disableButtonState():this._enableButtonState()}_resetValidation(){this._disableButtonState(),this._inputList.forEach((t=>{this._hideErrorMessage(t)}))}_showErrorMessage(t){const e=t.validationMessage,s=this._formElement.querySelector(".".concat(t.id,"-error"));s.textContent=e,t.classList.add(this._settings.inputErrorClass),s.classList.add(this._settings.errorClass)}_hideErrorMessage(t){const e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._settings.inputErrorClass),e.classList.remove(this._settings.errorClass)}_checkInputValidity(t){t.validity.valid?this._hideErrorMessage(t):this._showErrorMessage(t)}_setEventListeners(){this._inputList.forEach((t=>{t.addEventListener("input",(()=>{this._checkInputValidity(t),this._toggleButtonState()}))}))}enableValidation(){this._toggleButtonState(),this._formElement.addEventListener("submit",(t=>{t.preventDefault(),this._resetValidation()})),this._setEventListeners()}}let m;const v=new class{constructor(t){let{URL:e,headers:s}=t;this.url=e,this.headers=s}getUserInfo(){return t("".concat(this.url,"/users/me"),{headers:this.headers})}getInitialCards(){return t("".concat(this.url,"/cards"),{headers:this.headers})}addCard(e){let{name:s,link:n}=e;return t("".concat(this.url,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify({name:s,link:n})})}editProfileServer(e){let{name:s,about:n}=e;return t("".concat(this.url,"/users/me"),{headers:this.headers,method:"PATCH",body:JSON.stringify({name:s,about:n})})}deleteCard(e){return t("".concat(this.url,"/cards/").concat(e),{headers:this.headers,method:"DELETE"})}likeCard(e){return t("".concat(this.url,"/cards/likes/").concat(e),{headers:this.headers,method:"PUT"})}dislikeCard(e){return t("".concat(this.url,"/cards/likes/").concat(e),{headers:this.headers,method:"DELETE"})}updateAvatarImage(e){let{avatar:s}=e;return t("".concat(this.url,"/users/me/avatar"),{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:s})})}}({URL:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:" 4f091419-1c89-4f29-928b-74f786fd1208","Content-Type":"application/json"}});Promise.all([v.getInitialCards(),v.getUserInfo()]).then((t=>{let[e,s]=t;m=s._id,C.renderItems(e),B.setUserInfo({name:s.name,job:s.about,avatar:s.avatar})}));const{cardsTemplate:g}=s,b=document.querySelector(".profile__add-button"),f=t=>{const e=new d({data:t,template:g,handleClick:()=>{L.open(t)},handleDelete:t=>{S.open(),S.setAction((()=>v.deleteCard(t).then((t=>(e._removeCard(),t))).catch((t=>console.log(t)))))},userId:m,handleLike:t=>{e._likeButton.classList.toggle(s.cardLikeButtonActive),e._likeButton.classList.contains(s.cardLikeButtonActive)?v.likeCard(t).then((t=>{e._cardCounter.textContent=t.likes.length})):v.dislikeCard(t).then((t=>{e._cardCounter.textContent=t.likes.length}))}});return e.generateCard()},C=new class{constructor(t,e){let{renderer:s}=t;this._renderer=s,this._container=e}renderItems(t){t.forEach((t=>{this._renderer(t)}))}setItem(t){this._container.append(t)}prependItem(t){this._container.prepend(t)}}({renderer:t=>{const e=f(t);C.setItem(e)}},n),E=new _("#addImagePopup",(()=>{const{caption:t,image:s}=E.getInputValues();e(!0,E._submitButton),v.addCard({name:t,link:s}).then((t=>{const e=f(t);n.prepend(e)})).catch((t=>console.log(t))).finally(e(!1,E._submitButton)),E.close()})),L=new class extends h{constructor(t){super(t),this._popupImage=document.querySelector(".popup__image"),this._popupCaption=document.querySelector(".popup__caption")}open(t){let{name:e,link:s}=t;this._popupImage.src=s,this._popupImage.alt=e,this._popupCaption.textContent=e,super.open()}}(".popup_image"),S=new class extends h{setAction(t){this.handleDelete=t}setEventListeners(){this._popup.addEventListener("submit",(t=>{t.preventDefault(),this.handleDelete(),this.close()})),super.setEventListeners()}}(".popup_confirm"),k={};var y;y={formSelector:".form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},[...document.querySelectorAll(y.formSelector)].forEach((t=>{const e=new p(y,t),s=t.getAttribute("name");k[s]=e,e.enableValidation()}));const I=document.querySelector("#profilePopup__edit-button"),B=new class{constructor(t){let{name:e,job:s,avatar:n}=t;this._name=document.querySelector(e),this._job=document.querySelector(s),this._avatar=document.querySelector(n)}getUserInfo(){return{name:this._name.textContent,job:this._job.textContent}}setUserInfo(t){let{name:e,job:s,avatar:n}=t;this._name.textContent=e,this._job.textContent=s,this._avatar.src=n}}({name:".profile__name",job:".profile__description",avatar:".profile__avatar-image"}),q=new _("#profilePopup",(()=>{const{fullName:t,description:s}=q.getInputValues();e(!0,q._submitButton),v.editProfileServer({name:t,about:s}).then((e=>(B.setUserInfo({name:t,job:s,avatar:e.avatar}),e))).catch((t=>console.log(t))).finally(e(!1,q._submitButton)),q.close()})),w=document.querySelector(".profile__overlay"),P=new _("#edit-profile-image",(()=>{const{updateImageUrl:t}=P.getInputValues();e(!0,P._submitButton),v.updateAvatarImage({avatar:t}).then((e=>{B.setUserInfo({name:e.name,job:e.about,avatar:t})})).catch((t=>console.log(t))).finally(e(!1,P._submitButton)),P.close()}));b.addEventListener("click",(()=>E.open())),w.addEventListener("click",(()=>P.open())),I.addEventListener("click",(()=>{const{name:t,job:e}=B.getUserInfo();q.setInputValues({fullName:t,description:e}),q.open()})),L.setEventListeners(),q.setEventListeners(),E.setEventListeners(),S.setEventListeners(),P.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQzFDdUMsRUFDR2Msa0JBQWtCLENBQUVDLE9BQVFvRCxJQUM1QnpNLE1BQU1DLElBQ0wySixFQUFRQyxZQUFZLENBQ2xCL0ksS0FBTWIsRUFBSWEsS0FDVmdKLElBQUs3SixFQUFJK0ksTUFDVEssT0FBUW9ELE9BR1hsTSxPQUFPOEosR0FBUTdKLFFBQVFDLElBQUk0SixLQUMzQmdCLFFBQVEzSyxHQUFpQixFQUFPOEwsRUFBbUJ6RyxnQkFDdER5RyxFQUFtQjFILFdBR3JCaUYsRUFBVWpHLGlCQUFpQixTQUFTLElBQU1tSCxFQUFZL0YsU0FDdERxSCxFQUFtQnpJLGlCQUFpQixTQUFTLElBQU0wSSxFQUFtQnRILFNBQ3RFOEcsRUFBa0JsSSxpQkFBaUIsU0FBUyxLQUMxQyxNQUFNLEtBQUVoRCxFQUFGLElBQVFnSixHQUFRRixFQUFRcEIsY0FDOUI0RCxFQUFZOUYsZUFBZSxDQUFFK0YsU0FBVXZMLEVBQU13TCxZQUFheEMsSUFDMURzQyxFQUFZbEgsVUFHZGlGLEVBQVc5RSxvQkFDWCtHLEVBQVkvRyxvQkFDWjRGLEVBQVk1RixvQkFDWjNELEVBQVkyRCxvQkFDWm1ILEVBQW1Cbkgsb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjbG9zZUZyb21PdmVybGF5ID0gKGUpID0+IHtcclxuICBlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0ID8gY2xvc2VQb3B1cChlLmN1cnJlbnRUYXJnZXQpIDogZmFsc2U7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBjbG9zZUZyb21Fc2MgPSAoZSkgPT4ge1xyXG4gIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgY29uc3Qgb3BlbmVkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3Nob3dcIik7XHJcbiAgICBjbG9zZVBvcHVwKG9wZW5lZFBvcHVwKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb3BlblBvcHVwKHBvcHVwKSB7XHJcbiAgcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX3Nob3dcIik7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlRnJvbUVzYyk7XHJcbiAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBjbG9zZUZyb21PdmVybGF5KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VQb3B1cChwb3B1cCkge1xyXG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9zaG93XCIpO1xyXG4gIHBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgY2xvc2VGcm9tT3ZlcmxheSk7XHJcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlRnJvbUVzYyk7XHJcbn1cclxuZXhwb3J0IGNvbnN0IGNvc3R1bWVGZXRjaCA9ICh1cmwsIGhlYWRlcnMpID0+IHtcclxuICByZXR1cm4gZmV0Y2godXJsLCBoZWFkZXJzKS50aGVuKChyZXMpID0+XHJcbiAgICByZXMub2tcclxuICAgICAgPyByZXMuanNvbigpXHJcbiAgICAgIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCkuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTdWJtaXRUZXh0KGJvb2wsIHN1Ym1pdEJ1dHRvbikge1xyXG4gIGlmIChib29sKSB7XHJcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBzdWJtaXRCdXR0b24ubmFtZTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZ09iamVjdCA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcbmV4cG9ydCBjb25zdCBwb3B1cFNldHRpbmdzID0ge1xyXG4gIGlucHV0Q2FwdGlvbjogXCIucG9wdXBfX2lucHV0X2FkZFBob3RvX2NhcHRpb25cIixcclxuICBpbnB1dExpbms6IFwiLnBvcHVwX19pbnB1dF9hZGRQaG90b19JbWFnZVVSTFwiLFxyXG4gIGNhcmRGb3JtOiBcIiNhZGRJbWFnZVBvcHVwX19mb3JtXCIsXHJcbiAgYWRkQ2FyZFBvcHVwOiBcIiNhZGRJbWFnZVBvcHVwXCIsXHJcbn07XHJcbmV4cG9ydCBjb25zdCBjYXJkU2V0dGluZ3MgPSB7XHJcbiAgY2FyZHNTZWN0aW9uOiBcIi5lbGVtZW50c1wiLFxyXG4gIGNhcmRJbWFnZVBvcHVwOiBcIi5wb3B1cF9pbWFnZVwiLFxyXG4gIGNhcmRzVGVtcGxhdGU6IFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICBjYXJkQ2xhc3M6IFwiLmNhcmRcIixcclxuICBjYXJkSW1hZ2VDbGFzczogXCIuY2FyZF9faW1hZ2VcIixcclxuICBjYXJkQ2FwdGlvbkNsYXNzOiBcIi5jYXJkX19jYXB0aW9uXCIsXHJcbiAgY2FyZFJlbW92ZUJ1dHRvbjogXCIuY2FyZF9fcmVtb3ZlQnV0dG9uXCIsXHJcbiAgY2FyZExpa2VCdXR0b246IFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIsXHJcbiAgY2FyZExpa2VCdXR0b25BY3RpdmU6IFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIsXHJcbiAgY2FyZENvdW50ZXI6IFwiLmNhcmRfX2xpa2UtY291bnRlclwiLFxyXG4gIGRlbGV0ZVBvcHVwOiBcIi5wb3B1cF9jb25maXJtXCIsXHJcbn07XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkUG9wdXBDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBwb3B1cFNldHRpbmdzLmlucHV0Q2FwdGlvblxyXG4pO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZFBvcHVwVVJMID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNldHRpbmdzLmlucHV0TGluayk7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkUG9wdXBGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNldHRpbmdzLmNhcmRGb3JtKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZXR0aW5ncy5hZGRDYXJkUG9wdXApO1xyXG5leHBvcnQgY29uc3QgY2FyZHNTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXJkU2V0dGluZ3MuY2FyZHNTZWN0aW9uKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXRzID0ge1xyXG4gIG5hbWU6IFwiLnBvcHVwX19pbnB1dF90eXBlX25hbWVcIixcclxuICBqb2I6IFwiLnBvcHVwX19pbnB1dF90eXBlX2Rlc2NyaXB0aW9uXCIsXHJcbn07XHJcbiIsImltcG9ydCB7IGNhcmRTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcclxuY29uc3Qge1xyXG4gIGNhcmRDbGFzcyxcclxuICBjYXJkSW1hZ2VDbGFzcyxcclxuICBjYXJkQ2FwdGlvbkNsYXNzLFxyXG4gIGNhcmRSZW1vdmVCdXR0b24sXHJcbiAgY2FyZExpa2VCdXR0b24sXHJcbiAgY2FyZExpa2VCdXR0b25BY3RpdmUsXHJcbiAgY2FyZENvdW50ZXIsXHJcbn0gPSBjYXJkU2V0dGluZ3M7XHJcbmV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih7XHJcbiAgICBkYXRhLFxyXG4gICAgdGVtcGxhdGUsXHJcbiAgICBoYW5kbGVDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZSxcclxuICAgIHVzZXJJZCxcclxuICAgIGhhbmRsZUxpa2UsXHJcbiAgfSkge1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX2hhbmRsZUNsaWNrID0gaGFuZGxlQ2xpY2s7XHJcbiAgICB0aGlzLl90ZXh0ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzRGF0YSA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlO1xyXG4gICAgdGhpcy5fY2FyZCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKGNhcmRDbGFzcylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoY2FyZExpa2VCdXR0b24pO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKGNhcmRSZW1vdmVCdXR0b24pO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoY2FyZEltYWdlQ2xhc3MpO1xyXG4gICAgdGhpcy5fY2FyZENvdW50ZXIgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoY2FyZENvdW50ZXIpO1xyXG4gICAgdGhpcy5fZGVsZXRlSGFuZGxlciA9IGhhbmRsZURlbGV0ZTtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fbGlrZUFjdGlvbiA9IGhhbmRsZUxpa2U7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHRoaXMuX2xpa2VBY3Rpb24odGhpcy5fY2FyZElkKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB0aGlzLl9kZWxldGVIYW5kbGVyKHRoaXMuX2NhcmRJZCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2NhcmRDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXNEYXRhLmxlbmd0aDtcclxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihjYXJkQ2FwdGlvbkNsYXNzKS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICB0aGlzLl9yZW1vdmVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fbGlrZXNEYXRhLnNvbWUoKGxpa2UpID0+IHtcclxuICAgICAgaWYgKGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoY2FyZExpa2VCdXR0b25BY3RpdmUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5faXNPcGVuID0gXCJwb3B1cF9zaG93XCI7XHJcbiAgfVxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lzT3Blbik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faXNPcGVuKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRzID0gWy4uLnRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIik7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbiAgZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dERhdGEgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dERhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0RGF0YTtcclxuICB9XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgY29uZmlnT2JqZWN0IH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5jbGFzcyBGb3JtVmFsaWRhdGlvbiB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX3N1Ym1pdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gW1xyXG4gICAgICAuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpLFxyXG4gICAgXTtcclxuICB9XHJcblxyXG4gIF9kaXNhYmxlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICB0aGlzLl9zdWJtaXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICB9XHJcbiAgX2VuYWJsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgdGhpcy5fc3VibWl0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgfVxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgdGhpcy5faGFzSW52YWxpZElucHV0KClcclxuICAgICAgPyB0aGlzLl9kaXNhYmxlQnV0dG9uU3RhdGUoKVxyXG4gICAgICA6IHRoaXMuX2VuYWJsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBfcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dFcnJvck1lc3NhZ2UoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGlucHV0LnZhbGlkaXR5LnZhbGlkXHJcbiAgICAgID8gdGhpcy5faGlkZUVycm9yTWVzc2FnZShpbnB1dClcclxuICAgICAgOiB0aGlzLl9zaG93RXJyb3JNZXNzYWdlKGlucHV0KTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3Jlc2V0VmFsaWRhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgY29uZmlnT2JqZWN0LCBGb3JtVmFsaWRhdGlvbiB9O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGlcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmRcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mb1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XHJcbmltcG9ydCB7IGNhcmRzU2VjdGlvbiwgY2FyZFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdGlvbiwgY29uZmlnT2JqZWN0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRpb24uanNcIjtcclxuaW1wb3J0IHsgY2hhbmdlU3VibWl0VGV4dCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhTdWJtaXQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXRcIjtcclxubGV0IHVzZXJJZDtcclxuLy9Db25uZWN0IHRvIHRvIHRoZSBQcmFjdGljdW0ncyBBUElcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgVVJMOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIiA0ZjA5MTQxOS0xYzg5LTRmMjktOTI4Yi03NGY3ODZmZDEyMDhcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckluZm8oKV0pLnRoZW4oXHJcbiAgKFtjYXJkRGF0YSwgdXNlckRhdGFdKSA9PiB7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyhjYXJkRGF0YSk7XHJcbiAgICBwcm9maWxlLnNldFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcclxuICAgICAgam9iOiB1c2VyRGF0YS5hYm91dCxcclxuICAgICAgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIsXHJcbiAgICB9KTtcclxuICB9XHJcbik7XHJcblxyXG4vL0NhcmQgY3JlYXRpb24gbG9naWNcclxuY29uc3QgeyBjYXJkc1RlbXBsYXRlIH0gPSBjYXJkU2V0dGluZ3M7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgY3JlYXRlQ2FyZCA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcclxuICAgIGRhdGE6IGl0ZW0sXHJcbiAgICB0ZW1wbGF0ZTogY2FyZHNUZW1wbGF0ZSxcclxuICAgIGhhbmRsZUNsaWNrOiAoKSA9PiB7XHJcbiAgICAgIGltYWdlUG9wdXAub3BlbihpdGVtKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVEZWxldGU6IChpZCkgPT4ge1xyXG4gICAgICBkZWxldGVQb3B1cC5vcGVuKCk7XHJcbiAgICAgIGRlbGV0ZVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGFwaVxyXG4gICAgICAgICAgLmRlbGV0ZUNhcmQoaWQpXHJcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuX3JlbW92ZUNhcmQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIHVzZXJJZDogdXNlcklkLFxyXG4gICAgaGFuZGxlTGlrZTogKGlkKSA9PiB7XHJcbiAgICAgIGNhcmQuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShjYXJkU2V0dGluZ3MuY2FyZExpa2VCdXR0b25BY3RpdmUpO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgY2FyZC5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoY2FyZFNldHRpbmdzLmNhcmRMaWtlQnV0dG9uQWN0aXZlKVxyXG4gICAgICApIHtcclxuICAgICAgICBhcGkubGlrZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY2FyZC5fY2FyZENvdW50ZXIudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwaS5kaXNsaWtlQ2FyZChpZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLl9jYXJkQ291bnRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gICAgICBjYXJkTGlzdC5zZXRJdGVtKGNhcmQpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIGNhcmRzU2VjdGlvblxyXG4pO1xyXG5cclxuY29uc3QgYWRkQ2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGRJbWFnZVBvcHVwXCIsICgpID0+IHtcclxuICBjb25zdCB7IGNhcHRpb24sIGltYWdlIH0gPSBhZGRDYXJkRm9ybS5nZXRJbnB1dFZhbHVlcygpO1xyXG4gIGNoYW5nZVN1Ym1pdFRleHQodHJ1ZSwgYWRkQ2FyZEZvcm0uX3N1Ym1pdEJ1dHRvbik7XHJcbiAgYXBpXHJcbiAgICAuYWRkQ2FyZCh7IG5hbWU6IGNhcHRpb24sIGxpbms6IGltYWdlIH0pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChyZXMpO1xyXG4gICAgICBjYXJkc1NlY3Rpb24ucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseShjaGFuZ2VTdWJtaXRUZXh0KGZhbHNlLCBhZGRDYXJkRm9ybS5fc3VibWl0QnV0dG9uKSk7XHJcbiAgYWRkQ2FyZEZvcm0uY2xvc2UoKTtcclxufSk7XHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfaW1hZ2VcIik7XHJcbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5wb3B1cF9jb25maXJtXCIpO1xyXG4vL0VuZCBvZiBDYXJkIGxvZ2ljXHJcblxyXG4vL0Zvcm0gbG9naWNcclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbnMgPSAoY29uZmlnT2JqZWN0KSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWdPYmplY3QuZm9ybVNlbGVjdG9yKV07XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybSkgPT4ge1xyXG4gICAgY29uc3QgbmV3Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdGlvbihjb25maWdPYmplY3QsIGZvcm0pO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSBuZXdGb3JtVmFsaWRhdG9yO1xyXG4gICAgbmV3Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn07XHJcbmVuYWJsZVZhbGlkYXRpb25zKGNvbmZpZ09iamVjdCk7XHJcbi8vRW5kIG9mIEZvcm0gbG9naWNcclxuXHJcbi8vUHJvZmlsZSBwb3B1cCAmIFVzZXJJbmZvIGltcGxlbWVudGF0aW9uXHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlUG9wdXBfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgam9iOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIGF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyLWltYWdlXCIsXHJcbn0pO1xyXG5jb25zdCBwcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3Byb2ZpbGVQb3B1cFwiLCAoKSA9PiB7XHJcbiAgY29uc3QgeyBmdWxsTmFtZSwgZGVzY3JpcHRpb24gfSA9IHByb2ZpbGVGb3JtLmdldElucHV0VmFsdWVzKCk7XHJcbiAgY2hhbmdlU3VibWl0VGV4dCh0cnVlLCBwcm9maWxlRm9ybS5fc3VibWl0QnV0dG9uKTtcclxuICBhcGlcclxuICAgIC5lZGl0UHJvZmlsZVNlcnZlcih7IG5hbWU6IGZ1bGxOYW1lLCBhYm91dDogZGVzY3JpcHRpb24gfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgcHJvZmlsZS5zZXRVc2VySW5mbyh7XHJcbiAgICAgICAgbmFtZTogZnVsbE5hbWUsXHJcbiAgICAgICAgam9iOiBkZXNjcmlwdGlvbixcclxuICAgICAgICBhdmF0YXI6IHJlcy5hdmF0YXIsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gcmVzO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgLmZpbmFsbHkoY2hhbmdlU3VibWl0VGV4dChmYWxzZSwgcHJvZmlsZUZvcm0uX3N1Ym1pdEJ1dHRvbikpO1xyXG4gIHByb2ZpbGVGb3JtLmNsb3NlKCk7XHJcbn0pO1xyXG5jb25zdCBwcm9maWxlSW1hZ2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX292ZXJsYXlcIik7XHJcbmNvbnN0IHVwbG9hZFByb2ZpbGVJbWFnZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2VkaXQtcHJvZmlsZS1pbWFnZVwiLCAoKSA9PiB7XHJcbiAgZGVidWdnZXI7XHJcbiAgY29uc3QgeyB1cGRhdGVJbWFnZVVybCB9ID0gdXBsb2FkUHJvZmlsZUltYWdlLmdldElucHV0VmFsdWVzKCk7XHJcbiAgY2hhbmdlU3VibWl0VGV4dCh0cnVlLCB1cGxvYWRQcm9maWxlSW1hZ2UuX3N1Ym1pdEJ1dHRvbik7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlQXZhdGFySW1hZ2UoeyBhdmF0YXI6IHVwZGF0ZUltYWdlVXJsIH0pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHByb2ZpbGUuc2V0VXNlckluZm8oe1xyXG4gICAgICAgIG5hbWU6IHJlcy5uYW1lLFxyXG4gICAgICAgIGpvYjogcmVzLmFib3V0LFxyXG4gICAgICAgIGF2YXRhcjogdXBkYXRlSW1hZ2VVcmwsXHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgLmZpbmFsbHkoY2hhbmdlU3VibWl0VGV4dChmYWxzZSwgdXBsb2FkUHJvZmlsZUltYWdlLl9zdWJtaXRCdXR0b24pKTtcclxuICB1cGxvYWRQcm9maWxlSW1hZ2UuY2xvc2UoKTtcclxufSk7XHJcblxyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGFkZENhcmRGb3JtLm9wZW4oKSk7XHJcbnByb2ZpbGVJbWFnZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdXBsb2FkUHJvZmlsZUltYWdlLm9wZW4oKSk7XHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgeyBuYW1lLCBqb2IgfSA9IHByb2ZpbGUuZ2V0VXNlckluZm8oKTtcclxuICBwcm9maWxlRm9ybS5zZXRJbnB1dFZhbHVlcyh7IGZ1bGxOYW1lOiBuYW1lLCBkZXNjcmlwdGlvbjogam9iIH0pO1xyXG4gIHByb2ZpbGVGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmFkZENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmRlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnVwbG9hZFByb2ZpbGVJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG4iLCJpbXBvcnQgeyBjb3N0dW1lRmV0Y2ggfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcclxuZXhwb3J0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBVUkwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy51cmwgPSBVUkw7XHJcbiAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBjb3N0dW1lRmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGNvc3R1bWVGZXRjaChgJHt0aGlzLnVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gY29zdHVtZUZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuICBlZGl0UHJvZmlsZVNlcnZlcih7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBjb3N0dW1lRmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICB9XHJcbiAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGNvc3R1bWVGZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGxpa2VDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gY29zdHVtZUZldGNoKGAke3RoaXMudXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRpc2xpa2VDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gY29zdHVtZUZldGNoKGAke3RoaXMudXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgdXBkYXRlQXZhdGFySW1hZ2UoeyBhdmF0YXIgfSkge1xyXG4gICAgcmV0dXJuIGNvc3R1bWVGZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3RlZENvbnRhaW5lcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IHNlbGVjdGVkQ29udGFpbmVyO1xyXG4gIH1cclxuICByZW5kZXJJdGVtcyhkYXRhKSB7XHJcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcbiAgcHJlcGVuZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXBcIjtcclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcclxuICB9XHJcbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xyXG4gIHNldEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuaGFuZGxlRGVsZXRlID0gYWN0aW9uO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLmhhbmRsZURlbGV0ZSgpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBqb2IsIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4geyBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LCBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCB9O1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gam9iO1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNvc3R1bWVGZXRjaCIsInVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiY2hhbmdlU3VibWl0VGV4dCIsImJvb2wiLCJzdWJtaXRCdXR0b24iLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJjYXJkU2V0dGluZ3MiLCJjYXJkc1NlY3Rpb24iLCJjYXJkSW1hZ2VQb3B1cCIsImNhcmRzVGVtcGxhdGUiLCJjYXJkQ2xhc3MiLCJjYXJkSW1hZ2VDbGFzcyIsImNhcmRDYXB0aW9uQ2xhc3MiLCJjYXJkUmVtb3ZlQnV0dG9uIiwiY2FyZExpa2VCdXR0b24iLCJjYXJkTGlrZUJ1dHRvbkFjdGl2ZSIsImNhcmRDb3VudGVyIiwiZGVsZXRlUG9wdXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwidGVtcGxhdGUiLCJoYW5kbGVDbGljayIsImhhbmRsZURlbGV0ZSIsInVzZXJJZCIsImhhbmRsZUxpa2UiLCJ0aGlzIiwiX2hhbmRsZUNsaWNrIiwiX3RleHQiLCJfbGluayIsImxpbmsiLCJfbGlrZXNEYXRhIiwibGlrZXMiLCJfdGVtcGxhdGUiLCJfY2FyZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfbGlrZUJ1dHRvbiIsIl9yZW1vdmVCdXR0b24iLCJfaW1hZ2UiLCJfY2FyZENvdW50ZXIiLCJfZGVsZXRlSGFuZGxlciIsIl9jYXJkSWQiLCJfaWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX3VzZXJJZCIsIl9saWtlQWN0aW9uIiwiX3JlbW92ZUNhcmQiLCJyZW1vdmUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsInNvbWUiLCJsaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwia2V5IiwiY2xvc2UiLCJfcG9wdXAiLCJfY2xvc2VCdXR0b24iLCJfaXNPcGVuIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2lucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZm9ybSIsIl9zdWJtaXRCdXR0b24iLCJyZXNldCIsImdldElucHV0VmFsdWVzIiwiaW5wdXREYXRhIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsInByZXZlbnREZWZhdWx0IiwiRm9ybVZhbGlkYXRpb24iLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX3N1Ym1pdCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0TGlzdCIsImlucHV0U2VsZWN0b3IiLCJfZGlzYWJsZUJ1dHRvblN0YXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInNldEF0dHJpYnV0ZSIsIl9lbmFibGVCdXR0b25TdGF0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX3Jlc2V0VmFsaWRhdGlvbiIsImlucHV0RWxlbWVudCIsIl9oaWRlRXJyb3JNZXNzYWdlIiwiX3Nob3dFcnJvck1lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJlbmFibGVWYWxpZGF0aW9uIiwiYXBpIiwiVVJMIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJhZGRDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0UHJvZmlsZVNlcnZlciIsImFib3V0IiwiZGVsZXRlQ2FyZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJ1cGRhdGVBdmF0YXJJbWFnZSIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJjYXJkRGF0YSIsInVzZXJEYXRhIiwiY2FyZExpc3QiLCJyZW5kZXJJdGVtcyIsInByb2ZpbGUiLCJzZXRVc2VySW5mbyIsImpvYiIsImFkZEJ1dHRvbiIsImNyZWF0ZUNhcmQiLCJpdGVtIiwiY2FyZCIsImltYWdlUG9wdXAiLCJzZXRBY3Rpb24iLCJlcnIiLCJ0b2dnbGUiLCJjb250YWlucyIsInNlbGVjdGVkQ29udGFpbmVyIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInNldEl0ZW0iLCJhcHBlbmQiLCJwcmVwZW5kSXRlbSIsInByZXBlbmQiLCJhZGRDYXJkRm9ybSIsImNhcHRpb24iLCJpbWFnZSIsImNhcmRFbGVtZW50IiwiZmluYWxseSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsImFjdGlvbiIsImZvcm1WYWxpZGF0b3JzIiwiY29uZmlnT2JqZWN0IiwiZm9ybVNlbGVjdG9yIiwiZm9ybSIsIm5ld0Zvcm1WYWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsInByb2ZpbGVFZGl0QnV0dG9uIiwiX25hbWUiLCJfam9iIiwiX2F2YXRhciIsInByb2ZpbGVGb3JtIiwiZnVsbE5hbWUiLCJkZXNjcmlwdGlvbiIsInByb2ZpbGVJbWFnZUJ1dHRvbiIsInVwbG9hZFByb2ZpbGVJbWFnZSIsInVwZGF0ZUltYWdlVXJsIl0sInNvdXJjZVJvb3QiOiIifQ==